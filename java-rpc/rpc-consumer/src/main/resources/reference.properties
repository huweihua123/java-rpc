#==============================
# RPC消费者参考配置文件
#==============================
# 此文件仅作参考，实际配置请修改rpc-consumer.properties

#---------- 消费者特有标识 ----------
# 应用名称
rpc.application.name=java-rpc-consumer

#---------- 消费者行为配置 ----------
# 是否检查提供者可用性，若为true则服务不可用时启动失败
rpc.consumer.check=false
# 启动时是否订阅
rpc.consumer.subscribe=true
# 服务发现的重试次数
rpc.consumer.discovery.retry.times=3
# 集群失败时的处理策略: retry(重试), failover(故障转移), failfast(快速失败)
rpc.consumer.cluster.failover.policy=retry
# 响应超时时间(毫秒)
rpc.consumer.timeout=3000
# 接口超时时间(毫秒)，优先级高于全局
rpc.consumer.interfaces.timeout=5000
# 客户端负载均衡策略
rpc.consumer.loadbalance=consistentHash
# 服务降级策略: return_null(返回空), throw_exception(抛出异常), fallback_method(降级方法)
rpc.consumer.downgrade.strategy=return_null

#---------- 泛化调用配置 ----------
# 是否允许泛化调用
rpc.consumer.generic.enable=false

#---------- 连接管理 ----------
# 连接池最大空闲连接数
rpc.consumer.pool.max.idle=16
# 连接池最小空闲连接数
rpc.consumer.pool.min.idle=4
# 连接最大空闲时间(毫秒)
rpc.consumer.connection.idle.timeout=60000
# 连接创建失败重试次数
rpc.consumer.connection.retry=3
# 是否启用连接池
rpc.consumer.connection.pool.enable=true

#---------- 熔断器配置 ----------
# 熔断器开启条件：连续失败次数
rpc.consumer.circuit.breaker.failures=5
# 熔断器开启条件：错误率阈值(%)
rpc.consumer.circuit.breaker.error.rate=50
# 熔断时间窗口(毫秒)
rpc.consumer.circuit.breaker.window=10000
# 熔断恢复所需成功次数
rpc.consumer.circuit.breaker.success.threshold=3

#---------- 重试策略 ----------
# 是否启用重试
rpc.consumer.retry.enable=true
# 最大重试次数
rpc.consumer.retry.max.times=3
# 重试间隔(毫秒)
rpc.consumer.retry.interval=1000
# 重试时是否使用新连接
rpc.consumer.retry.new.connection=false
